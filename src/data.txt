CREATE DATABASE research_manage
  DEFAULT CHARACTER SET utf8mb4
  COLLATE utf8mb4_general_ci;


 USE research_manage;

CREATE TABLE sys_user (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(50) NOT NULL UNIQUE,
  password VARCHAR(100) NOT NULL,
  create_time DATETIME DEFAULT CURRENT_TIMESTAMP
);


CREATE TABLE researcher (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(50) NOT NULL,
  code VARCHAR(50) NOT NULL,
  college VARCHAR(100),
  title VARCHAR(50),
  phone VARCHAR(20),
	create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
  update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE project (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,     -- 对应 Long id，MyBatis-Plus 自动生成
    name VARCHAR(255) NOT NULL,               -- 项目名称
    code VARCHAR(100) NOT NULL,               -- 项目编号
    type VARCHAR(100),                         -- 项目性质
    duration VARCHAR(50),                       -- 研究周期
    leader VARCHAR(100),                        -- 项目负责人
    description TEXT,                            -- 项目简介
		create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
)

CREATE TABLE paper (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,         -- 论文标题
    author VARCHAR(100) NOT NULL,        -- 作者
    journal VARCHAR(255),                -- 期刊名称
    source VARCHAR(50),                  -- 检索来源
    publish_date DATE,                   -- 发表时间
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,                     -- 创建时间
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP  -- 修改时间
)


CREATE TABLE paper_researcher (
  paper_id BIGINT,
  researcher_id BIGINT,
  PRIMARY KEY (paper_id, researcher_id)
);


CREATE TABLE book (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(200),
  publisher VARCHAR(200),
  isbn VARCHAR(50),
  publish_date DATE
);



CREATE TABLE book_researcher (
  book_id BIGINT,
  researcher_id BIGINT,
  PRIMARY KEY (book_id, researcher_id)
);

CREATE TABLE award (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(200),
  level VARCHAR(50),       -- 奖项级别（字典）
  award_date DATE,
  project_id BIGINT
);

CREATE TABLE dictionary (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  dict_type VARCHAR(100),
  dict_code VARCHAR(100),
  dict_label VARCHAR(200),
  sort INT,
  status TINYINT DEFAULT 1
);


